from django.test import TestCase
from ..views import register_view

# Тестирование приложения для учета пользователей
"""Пользователи могут 
	незарегистрированные - зарегистрироваться на сайте
	зарегистрированные:
		залогиниться на сайте
		смотреть свой профиль
		редактировать свой профиль
"""

class UserRegistrationTest(TestCase):
	"""Может ли пользователь зарегистрироваться на сайте указав имя и пароль:
	По адресу register 
	пользователь видит форму для регистрации
	Вводит свои данные 
	и при успешной регистрации перенаправляется на главную страницу 
	как аутентифицированный и залогиненный
	"""

	def test_proper_register_view(self):
		response = self.client.get('/user/register')
		self.assertEqual(response.resolver_match.func, register_view)
		self.assertEqual(response.status_code, 200)
		self.assertContains(response, 'Регистрация')

